--// PET KG CHANGER //--
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local currentPet = nil

-- SETTINGS
local defaultSize = 2
local defaultKG = "9.99 KG"

-- CREATE GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PetChangerGUI"
ScreenGui.Parent = player:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 160, 0, 120)
Frame.Position = UDim2.new(1, -170, 0.5, -60) -- nasa gilid
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.BackgroundTransparency = 0.2
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 25)
Title.BackgroundTransparency = 1
Title.Text = "PET KG CHANGER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.Parent = Frame

local sizeBox = Instance.new("TextBox")
sizeBox.Size = UDim2.new(1, -10, 0, 25)
sizeBox.Position = UDim2.new(0, 5, 0, 30)
sizeBox.PlaceholderText = "Size Multiplier"
sizeBox.Text = tostring(defaultSize)
sizeBox.Parent = Frame

local kgBox = Instance.new("TextBox")
kgBox.Size = UDim2.new(1, -10, 0, 25)
kgBox.Position = UDim2.new(0, 5, 0, 60)
kgBox.PlaceholderText = "KG Value"
kgBox.Text = defaultKG
kgBox.Parent = Frame

local applyBtn = Instance.new("TextButton")
applyBtn.Size = UDim2.new(1, -10, 0, 25)
applyBtn.Position = UDim2.new(0, 5, 0, 90)
applyBtn.Text = "Apply"
applyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
applyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
applyBtn.Parent = Frame

-- FUNCTION: Apply Changes to Current Pet
local function applyChanges()
    if currentPet then
        local sizeMultiplier = tonumber(sizeBox.Text) or defaultSize
        local kgValue = kgBox.Text ~= "" and kgBox.Text or defaultKG

        local handle = currentPet:FindFirstChild("Handle", true)
        if handle then
            for _, v in pairs(handle:GetDescendants()) do
                if v:IsA("BasePart") or v:IsA("MeshPart") then
                    v.Size = v.Size * sizeMultiplier
                elseif v:IsA("SpecialMesh") then
                    v.Scale = v.Scale * sizeMultiplier
                end
            end
        end

        for _, obj in pairs(game:GetDescendants()) do
            if obj:IsA("TextLabel") and string.find(obj.Text, "KG") then
                obj.Text = "[" .. kgValue .. "]"
            end
        end
    end
end

-- BUTTON CLICK
applyBtn.MouseButton1Click:Connect(applyChanges)

-- AUTO-DETECT PET
task.spawn(function()
    while true do
        currentPet = nil
        for _, model in pairs(workspace:GetDescendants()) do
            if model:IsA("Model") and model:FindFirstChild("Handle") then
                -- Check kung naka-parent sa Character mo
                if model:IsDescendantOf(character) then
                    currentPet = model
                    break
                end
            end
        end
        task.wait(1) -- every 1s check
    end
end)
