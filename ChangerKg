local player = game.Players.LocalPlayer

-- GUI Creation
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.CoreGui

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 180, 0, 160) -- mas maliit
frame.Position = UDim2.new(1, -190, 0.5, -80) -- nasa kanan
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true -- Pwede i-drag

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 25)
title.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
title.Text = "PET KG CHANGER"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextScaled = true

-- Path Input
local pathBox = Instance.new("TextBox", frame)
pathBox.PlaceholderText = "Pet Path"
pathBox.Size = UDim2.new(1, -10, 0, 20)
pathBox.Position = UDim2.new(0, 5, 0, 30)
pathBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
pathBox.TextColor3 = Color3.new(1, 1, 1)
pathBox.TextScaled = true

-- Size Multiplier Input
local sizeBox = Instance.new("TextBox", frame)
sizeBox.PlaceholderText = "Size x"
sizeBox.Size = UDim2.new(1, -10, 0, 20)
sizeBox.Position = UDim2.new(0, 5, 0, 55)
sizeBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
sizeBox.TextColor3 = Color3.new(1, 1, 1)
sizeBox.TextScaled = true

-- KG Input
local kgBox = Instance.new("TextBox", frame)
kgBox.PlaceholderText = "New KG"
kgBox.Size = UDim2.new(1, -10, 0, 20)
kgBox.Position = UDim2.new(0, 5, 0, 80)
kgBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
kgBox.TextColor3 = Color3.new(1, 1, 1)
kgBox.TextScaled = true

-- Age Input
local ageBox = Instance.new("TextBox", frame)
ageBox.PlaceholderText = "New Age"
ageBox.Size = UDim2.new(1, -10, 0, 20)
ageBox.Position = UDim2.new(0, 5, 0, 105)
ageBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ageBox.TextColor3 = Color3.new(1, 1, 1)
ageBox.TextScaled = true

-- Apply Button
local applyBtn = Instance.new("TextButton", frame)
applyBtn.Size = UDim2.new(1, -10, 0, 25)
applyBtn.Position = UDim2.new(0, 5, 0, 130)
applyBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
applyBtn.Text = "Apply"
applyBtn.TextColor3 = Color3.new(1, 1, 1)
applyBtn.TextScaled = true

-- Function to Apply Changes
applyBtn.MouseButton1Click:Connect(function()
    local petPath = pathBox.Text
    local multiplier = tonumber(sizeBox.Text) or 1
    local newKG = kgBox.Text ~= "" and kgBox.Text or nil
    local newAge = ageBox.Text ~= "" and ageBox.Text or nil

    if petPath == "" then
        warn("No pet path entered!")
        return
    end

    local success, pet = pcall(function()
        return loadstring("return " .. petPath)()
    end)

    if success and pet and pet:FindFirstChild("Handle") then
        for _, v in pairs(pet.Handle:GetDescendants()) do
            if v:IsA("BasePart") or v:IsA("MeshPart") then
                v.Size = v.Size * multiplier
            elseif v:IsA("SpecialMesh") then
                v.Scale = v.Scale * multiplier
            end
        end

        for _, uiObj in pairs(game:GetDescendants()) do
            if uiObj:IsA("TextLabel") then
                if newKG and string.find(uiObj.Text, "KG") then
                    uiObj.Text = "[" .. newKG .. "]"
                elseif newAge and string.find(uiObj.Text, "Age") then
                    uiObj.Text = "[" .. newAge .. "]"
                end
            end
        end
    else
        warn("Invalid pet path or no Handle found.")
    end
end)
